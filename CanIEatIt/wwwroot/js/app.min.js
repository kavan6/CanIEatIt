function wipeInputBox(n){(n.value=="Keywords..."||n.value=="Name..."||n.value=="Edible Keyword(s)..."||n.value=="Cap Keyword(s)..."||n.value=="Stem Keyword(s)..."||n.value=="Gill Keyword(s)..."||n.value=="Spore Keyword(s)..."||n.value=="Microscopic Keyword(s)..."||n.value=="Note Keyword(s)..."||n.value=="Search mushrooms...")&&(n.value="")}function fillInputBox(n){n==document.getElementById("input-keywords")&&""==document.getElementById("input-keywords").value?n.value="Keywords...":n==document.getElementById("input-name")&&""==document.getElementById("input-name").value?n.value="Name...":n==document.getElementById("input-edible")&&""==document.getElementById("input-edible").value?n.value="Edible Keyword(s)...":n==document.getElementById("input-cap")&&""==document.getElementById("input-cap").value?n.value="Cap Keyword(s)...":n==document.getElementById("input-stem")&&""==document.getElementById("input-stem").value?n.value="Stem Keyword(s)...":n==document.getElementById("input-gill")&&""==document.getElementById("input-gill").value?n.value="Gill Keyword(s)...":n==document.getElementById("input-spore")&&""==document.getElementById("input-spore").value?n.value="Spore Keyword(s)...":n==document.getElementById("input-micro")&&""==document.getElementById("input-micro").value?n.value="Microscopic Keyword(s)...":n==document.getElementById("searchbar-search")&&""==document.getElementById("searchbar-search").value&&(n.value="Search mushrooms...")}function checkAll(n){var r=n.id,i,t;switch(r){case"location-check-default":i=document.getElementsByClassName("location-check");break;case"family-check-default":i=document.getElementsByClassName("family-check")}if(n.checked)for(t=0;t<i.length;t++)i[t].checked=!0;else for(t=0;t<i.length;t++)i[t].checked=!1}function setValueHidden(n){var t=n.id+"-hidden",i=n.id.substring(6);document.getElementById(t).value=i+","+n.checked}function setRangeAny(n){n.previousElementSibling.value=n.value>0?n.value+"cm":"Any"}function getKeywords(){for(var i=document.getElementById("input-keywords-filter"),t=i.childNodes,n=1;n<t.length;n++)keywords.push(t[n].textContent);document.getElementById("hidden-keywords").value=keywords}function createLabel(n){function t(n){const t=document.createElement("div");t.setAttribute("class","keyword-label");const i=`<span>${n}</span>`,r=`<div class="fa fa-close" onclick="removeNodeLabel(this)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
</svg></div>`;n=n.substring(0,n.length-1);const u=`<input type="hidden" value="${n}" name="SearchKeyWords"></input>`;return t.innerHTML=i+r+u,t}if(n.value==" ")return n.value="",null;n.parentNode.appendChild(t(n.value),n);n.value=""}function removeNodeLabel(n){n.parentNode.remove()}function changeChevron(){let n=document.getElementById("chevron-path");chevronDown?(chevronDown=!1,n.setAttribute("d","M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708")):(chevronDown=!0,n.setAttribute("d","M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"))}function grabSearchValue(n){var t=n.value;t==""&&unFocusSuggestions();fetch("/Mushrooms/Search?searchValue="+encodeURIComponent(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then(n=>{if(!n.ok)throw new Error("Network response was not ok "+n.statusText);return n.json()}).then(n=>{updateSearchSuggestions(n),console.log(n)}).catch(n=>{console.error("There was a problem with the fetch operation:",n)})}function focusSuggestions(){var n=document.getElementById("search-suggestions");n.style.border="2px solid black";n.style.borderRadius="0.5em";n.style.display="flex"}function unFocusSuggestions(){var n=document.getElementById("search-suggestions");n.style.border="2px solid black";n.style.borderRadius="0.5em";n.style.display="none"}function updateSearchSuggestions(n){const r=document.getElementById("search-suggestions");if(r.innerHTML="",!n){unFocusSuggestions();return}let t=n.mushrooms?.slice(0,10);if(!t||t.length===0){unFocusSuggestions();return}focusSuggestions();for(var i=0;i<t.length;i++){const n=document.createElement("div");n.classList.add("suggestion-item");n.innerHTML=`
            <a href="Information/${t[i].id}" class="suggestion-link">
                ${t[i].name}
            </a>
        `;r.appendChild(n)}}function updateMushroomCards(n){const r=document.getElementById("mushroom-slot-1"),u=document.getElementById("mushroom-slot-2"),f=document.getElementById("mushroom-slot-3");r.innerHTML="";u.innerHTML="";f.innerHTML="";let i=n.mushrooms,e=n.imageURLS;if(i)for(var t=0;t<i.length;t++){const n=document.createElement("a");n.classList.add("card-link");n.href=`/Mushrooms/Information/${i[t].id}`;const o=document.createElement("div");o.classList.add("card","display-card","text-black","mb-3");const s=document.createElement("div");s.classList.add("card-header");s.innerHTML=`
            ${i[t].name}
            <div class="float-end">
                <span class="badge ${i[t].edible?"badge-success":"badge-danger"}">${i[t].edible?"Edible":"Inedible"}</span>
            </div>
        `;const h=document.createElement("div");h.classList.add("card-body");h.innerHTML=`
            <div class="card-image mb-3">
                <img src="${e[t]}" class="card-img" />
            </div>
            <p class="card-text mb-1"><b>Family:</b> ${i[t].family}</p>
            <p class="card-text mb-1"><b>Location:</b> ${i[t].location}</p>
            <p class="card-text mb-1"><b>Dimensions:</b> Cap ${i[t].capDiameter} diameter, Stem ${i[t].stemHeight} tall</p>
            <p class="card-text mb-1"><b>Edible:</b> ${i[t].edible?"Yes":"No"}</p>
            <p class="card-text mb-1"><b>Cap:</b> ${i[t].capDescription}</p>
            <p class="card-text"><b>Stem:</b> ${i[t].stemDescription}</p>
        `;o.appendChild(s);o.appendChild(h);n.appendChild(o);t%3==0?r.appendChild(n):t%3==1?u.appendChild(n):t%3==2&&f.appendChild(n)}}var chevronDown=!1;document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("cap-range");setRangeAny(n);const t=document.getElementById("stem-range");setRangeAny(t)});window.addEventListener("keyup",function(n){n.key==" "&&n.target==document.getElementById("input-keywords")&&createLabel(n.target)});window.addEventListener("focusin",function(n){n.target.classList[1]=="search-form-input"&&wipeInputBox(n.target)});window.addEventListener("focusout",function(n){n.target.classList[0]=="input"&&fillInputBox(n.target)});window.addEventListener("click",function(n){if(n.target.id=="dropdown-chevron"){const n=document.getElementById("searchbar-selector"),t=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window});n.dispatchEvent(t)}});